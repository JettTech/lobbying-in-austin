<!DOCTYPE html>
<meta charset="utf-8">

<style>

.poop {
    border-style:solid;
    border-width:5px;
    border-color: red;
}

svg {
    background-color: blue;
}


</style>

<header></header>

<body>

<!-- <div class='poop'>FU</div>

<div class='poop'> YAYAYSYYS</div> -->

</body>


<script src="./d3/d3.js"></script>

<script type="text/javascript">

// (function(d3) {
// 'use strict';

// REMOVED var data = ...

var width = 360;
var height = 360;
var radius = Math.min(width, height) / 2;
var donutWidth = 75;
var legendRectSize = 18;
var legendSpacing = 4;

var color = d3.scale.category20b();

var svg = d3.select('body')
  .append('svg')
  .attr('width', width)
  .attr('height', height)
 .style("background-color", 'purple')
  .append('g')
  .attr('transform', 'translate(' + (width / 2) + 
    ',' + (height / 2) + ')');

var arc = d3.svg.arc()
  .innerRadius(radius - donutWidth)
  .outerRadius(radius);

var pie = d3.layout.pie()
  .value(function(d) { return d.count; })
  .sort(null);


var color = d3.scale.category10();

// Getting data 

d3.csv("./data/clients_by_time_industry.csv", function(error, data) {

  // change string (from CSV) into number format
  data.forEach(function(d) {
    d.month_of_hire = +d.month_of_hire;
    d.year_of_hire = +d.year_of_hire;
    d.clients = +d.clients;
    console.log(d);
  });

  svg.selectAll(".dot")
      .data(data)
    .enter().append("circle")
      .attr("class", "dot")
      .attr("r", 3.5)
      .attr("cx", 50)
      .attr("cy", 50)
      .style("fill", function(d) { return color(cValue(d));}) 
      .on("mouseover", function(d) {
          tooltip.transition()
               .duration(200)
               .style("opacity", .9);
          tooltip.html(d.industry + "<br/> (" + xValue(d) 
          + ", " + yValue(d) + ")")
               .style("left", (d3.event.pageX + 5) + "px")
               .style("top", (d3.event.pageY - 28) + "px");
      })
      .on("mouseout", function(d) {
          tooltip.transition()
               .duration(500)
               .style("opacity", 0);
      });

    // svg.selectAll("circle")
    //     .data(data)
    //     .enter().append("circle")
    //     .attr("r", function(d) { return d.sample_size; })
    //     .style("fill", 'red');
        

    // var path = svg.selectAll('circle')
    //     .data(pie(data))
    //     .enter()
    //     .append('circle')
    //     .attr('cy', height/2)
    //     .attr('cx',width/2)
    //     .attr('r', d.sample_size +"px")
    //     .attr('fill','red')

        // .append('path')
        // .attr('fill','red');
        // .append('path')
        // .attr('d', arc);
        // .attr('fill', function(d, i) { 
        //   return color(d.data.label);
        // });
});


// d3.csv('weekdays.csv', function(error, dataset) {  // NEW
//   dataset.forEach(function(d) {                    // NEW
//     d.count = +d.count;                            // NEW
//   });    
// // for(var propertyName in myObject) {
// //    // propertyName is what you want
// //    // you can get the value like this: myObject[propertyName]
// // }
//     console.log(row);

//     // for (var name in data) {
//     //   console.log(name);
//     // };


//     // data.forEach(function(d) {
//     //     console.log(d.country);
//     // });


</script>
