<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Lobbyists</title>
        <script type="text/javascript" src="d3/d3.v3.js"></script>
    </head>
    <body>
        <script type="text/javascript">

			//Width and height
			var w = 500;
			var h = 400;
            var padding = 20;
            var format = d3.time.format("%Y-%m-%d");

			//Create SVG element
			var svg = d3.select("body")
				.append("svg")
				.attr("width", w)
				.attr("height", h);

			//Data

            dataset = d3.csv("lobby.csv", function(d) {
              return {
                hiredDate: format.parse(d.Date), // returns a Date
                client: d.Client,
                cumulative: +d.Cumulative,
              };
            }, function(error, rows) {
                console.log(rows);
                });


            //Scale
            var xScale = d3.scale.linear()
                .domain([0, d3.max(dataset, function(d) { return d[0]; })])
                .range([padding, w - padding]);

            var yScale = d3.scale.linear()
                .domain([0, d3.max(dataset, function(d) { return d[2]; })])
                .range([h - padding, padding]);


			svg.selectAll("circle")
			   .data(dataset)
			   .enter()
			   .append("circle")
			   .attr("cx", function(d) {
			   		return xScale(d[0]);
			   })
			   .attr("cy", function(d) {
			   		return yScale(d[2]);
			   })
			   .attr("r", 5);

        </script>
    </body>
</html>
